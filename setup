#!/bin/bash

USAGE="Installs necessary tools and sets up github team id which is needed for all operations.\n"
USAGE+="Usage: ./albert $(basename "$0") \"github_team_name\"\n"
USAGE+="Example: ./albert $(basename "$0") \"ConMon\""

[[ $# != 2 ]] && { echo -e "$USAGE"; exit 1; }  # Show usage when argument count is wrong

brew install gnu-sed
brew install httpie
brew install jq

MY_DIR="$(dirname "$0")"
$MY_DIR/set-team "$@"

grep -q "alias albert" ~/.bash_profile 2> /dev/null
if [ $? -ne 0 ]; then
    printf "\nsource ~/git/albert/bash_completion\n" >> ~/.bash_profile
    printf "alias albert=\"~/git/albert/albert\"\n" >> ~/.bash_profile
fi

exit 0
